(this["webpackJsonpcrypto-wallet"]=this["webpackJsonpcrypto-wallet"]||[]).push([[0],{125:function(e,t,n){},126:function(e,t,n){},134:function(e,t){},136:function(e,t){},146:function(e,t){},148:function(e,t){},161:function(e,t){},164:function(e,t){},165:function(e,t){},240:function(e,t,n){},254:function(e,t,n){},255:function(e,t,n){},256:function(e,t,n){},257:function(e,t,n){},258:function(e,t,n){},259:function(e,t,n){},260:function(e,t,n){},261:function(e,t,n){},262:function(e,t,n){"use strict";n.r(t);var c=n(4),s=n.n(c),i=n(114),a=n.n(i),r=n(16),o=n(26),l=n(8),j=(n(125),n(49)),d=n(115),u=n(120),b=n(119),O=(n(126),n(1)),m=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(e){var c;return Object(j.a)(this,n),(c=t.call(this,e)).state={error:null},c}return Object(d.a)(n,[{key:"componentDidCatch",value:function(e){this.setState({error:e})}},{key:"render",value:function(){var e=this.props.children,t=this.state.error;return Object(O.jsx)("div",{children:t?Object(O.jsx)("h1",{children:"Error"}):e})}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),n}(s.a.Component),h=n(39),p=n(117),x=n(25),f=n(116),w=(n(240),n(31)),v=n.n(w),g=n(51),_=n(52),N=n(50),k=Object.freeze({BTC:new function e(t){var n=this;Object(j.a)(this,e),this.createWallet=function(e){var t=e.network,c=_.generateMnemonic(),s=_.mnemonicToSeedSync(c),i=N.fromSeed(s,t).derivePath("m/44'/0'/0'/0/0"),a=h.payments.p2pkh({pubkey:i.publicKey,network:t}),l={balance:0,ticker:n.ticker,precision:n.precision,mnemonic:c,pubKey:i.publicKey,privKey:i.privateKey,address:a.address},j=JSON.parse(window.localStorage.getItem("wallets")||"{}");return window.localStorage.setItem("wallets",JSON.stringify(Object(o.a)(Object(o.a)({},j),{},{btc:[].concat(Object(r.a)(j.btc),[l])}))),l},this.getBalance=function(){return new Promise((function(e,t){e(0)}))},this.restoreWallet=function(e){var t=e.network,c=e.mnemonic,s=_.mnemonicToSeedSync(c),i=N.fromSeed(s,t),a=i.derivePath("m/44'/0'/0'/0/0"),r=h.payments.p2pkh({pubkey:a.publicKey,network:t});return console.log("getWallet"),console.log("seed: ",s),console.log("root: ",i),console.log("node: ",a),console.log("account: ",r),{balance:0,ticker:n.ticker,precision:n.precision,mnemonic:c,pubKey:a.publicKey,privKey:a.privateKey,address:r.address}},this.send=Object(g.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));var c=t.name,s=t.ticker,i=t.precision;this.name=c,this.ticker=s,this.precision=i}({name:"Bitcoin",ticker:"BTC",precision:8})}),y=(n(254),function(e){var t=e.children,n=e.isLoading,c=e.onClick;return Object(O.jsx)("button",{className:"button ".concat(n?"disable":""),onClick:n?function(){return null}:c,children:n?Object(O.jsx)("span",{className:"button__loader",children:"Pending"}):t})}),S=(n(255),function(e){var t=e.type;return"address"===t?Object(O.jsx)("input",{className:"input",type:"text",placeholder:"Recipient address",onChange:function(e){}}):"amount"===t?Object(O.jsx)("input",{className:"input",type:"number",placeholder:"Amount"}):Object(O.jsx)("input",{className:"input",type:"text",placeholder:"..."})}),C=function(e){var t=e.setActivePage,n=Object(c.useState)(!1),s=Object(l.a)(n,2),i=s[0],a=s[1];return Object(O.jsxs)("div",{className:"settings",children:[Object(O.jsx)("h2",{className:"page-title",children:"SETTINGS"}),Object(O.jsxs)("div",{className:"settings__buttons-wrapper",children:[Object(O.jsxs)(y,{onClick:function(){k.BTC.createWallet({network:h.networks.testnet}),window.localStorage.setItem("page","wallet"),t("wallet")},children:[Object(O.jsx)("span",{className:"settings__icon",children:Object(O.jsx)(f.a,{size:"100%",color:"inherit"})}),"Create"]})," ",Object(O.jsxs)(y,{onClick:function(){return a(!0)},children:[Object(O.jsx)("span",{className:"settings__icon",children:Object(O.jsx)(p.a,{size:"100%",color:"inherit"})}),"Mnemonic"]})," ",Object(O.jsxs)(y,{onClick:function(){window.localStorage.clear()},children:[Object(O.jsx)("span",{className:"settings__icon",children:Object(O.jsx)(x.c,{size:"100%",color:"inherit"})}),"Logout"]})]}),i&&Object(O.jsxs)("div",{className:"settings__restore-block",children:[Object(O.jsx)(S,{type:"text"}),Object(O.jsxs)("div",{className:"settings__restore-buttons",children:[Object(O.jsx)("button",{children:"Restore"}),Object(O.jsx)("button",{onClick:function(){return a(!1)},children:"Close"})]})]})]})},I=(n(256),n(32)),z=function(e){var t=e.isDark,n=e.setIsDark,c=e.setActivePage,s=function(e){window.localStorage.setItem("page",e),c(e)};return Object(O.jsxs)("nav",{className:"navigation",children:[Object(O.jsxs)("ul",{className:"navigation__list",children:[Object(O.jsx)("li",{children:Object(O.jsx)("button",{className:"navigation__button",onClick:function(){return s("wallet")},children:Object(O.jsx)(I.b,{size:"100%",color:"inherit"})})}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{className:"navigation__button",onClick:function(){return s("transfer")},children:Object(O.jsx)(I.c,{size:"100%",color:"inherit"})})}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{className:"navigation__button",onClick:function(){return s("settings")},children:Object(O.jsx)(I.d,{size:"100%",color:"inherit"})})})]}),Object(O.jsx)("button",{className:"navigation__theme-button",onClick:function(){window.localStorage.setItem("dark","".concat(!t)),n(!t)},children:t?Object(O.jsx)(x.b,{size:"100%",color:"inherit"}):Object(O.jsx)(x.d,{size:"100%",color:"inherit"})})]})},T=(n(257),function(e){var t=e.walletIcon,n=e.wallet,s=e.shortAddress,i=void 0!==s&&s,a=Object(c.useState)(""),r=Object(l.a)(a,2),o=r[0],j=r[1],d=Object(c.useState)(!1),u=Object(l.a)(d,2),b=u[0],m=u[1],h=Object(c.useRef)(null),p=n.address.substr(0,4)+"..."+n.address.substr(n.address.length-3,n.address.length);return Object(O.jsxs)("div",{className:"wallet-item",children:[Object(O.jsxs)("div",{className:"wallet-item__header",children:[Object(O.jsx)("span",{className:"wallet-item__icon",children:t}),Object(O.jsxs)("span",{className:"wallet-item__address",children:[i?p:n.address,Object(O.jsx)("form",{children:Object(O.jsx)("textarea",{ref:h,defaultValue:n.address})}),document.queryCommandSupported("copy")&&Object(O.jsxs)("button",{className:"wallet-item__copy-button",onClick:function(e){h.current.select(),document.execCommand("copy"),e.target.focus(),j(!0),setTimeout((function(){return j(!1)}),600)},children:[o&&Object(O.jsx)("span",{className:"wallet-item__copy-tip",children:"Copied!"}),Object(O.jsx)(I.a,{size:"100%",color:"var(--color)"})]})]})]}),Object(O.jsxs)("div",{className:"wallet-item__middle",children:[Object(O.jsx)("span",{className:"wallet-item__balance-wrapper",children:Object(O.jsxs)("span",{className:"wallet-item__crypto",children:[function(){var e=String(n.balance);return e.split(".").length>1&&e.split(".")[1].length>6&&(e=Number.parseFloat(e).toFixed(5).toString()+"..."),e}()," BTC"]})}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{htmlFor:"wallet-item__extra-info",children:"Extra info"}),Object(O.jsx)("input",{type:"checkbox",name:"extra info",id:"wallet-item__extra-info",onChange:function(){m(!b)}})]})]}),b&&Object(O.jsx)("div",{className:"wallet-item__footer",children:"Keys"})]})}),A=n(118),K=function(e){var t=e.wallets.btc,n=void 0===t?[]:t;return Object(O.jsxs)("div",{className:"wallets",children:[Object(O.jsx)("h2",{className:"page-title",children:"WALLETS"}),n.length?n.map((function(e,t){return Object(O.jsx)(T,{walletIcon:Object(O.jsx)(A.a,{size:"100%",color:"inherit"}),wallet:e},t)})):Object(O.jsx)("p",{className:"wallets__not-wallet",children:"No Bitcoin wallets"})]})},B=(n(258),n(259),function(e){var t=e.list,n=Object(c.useState)(!1),s=Object(l.a)(n,2),i=s[0],a=s[1];return Object(O.jsxs)("div",{className:"dropdown ".concat(i?"open":""),onClick:function(){1!==t.length&&a(!i)},children:[1===t.length?Object(O.jsx)("div",{className:"dropdown__list",children:Object(O.jsx)("div",{children:t[0]})}):Object(O.jsx)("div",{className:"dropdown__list many",children:t.map((function(e,t){return Object(O.jsx)("div",{className:"dropdown__item ".concat(t?"hidden":""),children:e},t)}))}),!i&&Object(O.jsx)(x.a,{size:"1.1rem",color:"var(--color)"})]})}),E=function(e){var t=e.ticker,n=e.address;return Object(O.jsxs)("div",{className:"dropdown-item",children:[Object(O.jsx)("span",{className:"dropdown-item__ticker",children:t}),Object(O.jsx)("span",{className:"dropdown-item__address",children:n})]})},P=function(e){var t=e.wallets,n=Object(c.useState)(!1),s=Object(l.a)(n,2),i=s[0],a=s[1],o=Object.keys(t).reduce((function(e,n){return[].concat(Object(r.a)(e),Object(r.a)(t[n]))}),[]).map((function(e){return Object(O.jsx)(E,{ticker:e.ticker,address:e.address})})),j=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){return new Promise((function(e){return setTimeout(e,2e3)}))},a(!0),e.next=4,t();case 4:a(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"transfer",children:[Object(O.jsx)("h2",{className:"page-title",children:"TRANSFER"}),Object(O.jsx)(B,{list:o}),Object(O.jsxs)("div",{className:"transfer__form-wrapper",children:[Object(O.jsxs)("div",{className:"transfer__input-wrapper",children:[Object(O.jsx)(S,{type:"address"}),Object(O.jsx)(S,{type:"amount"})]}),Object(O.jsx)(y,{isLoading:i,onClick:j,children:"SEND"})]})]})},D=(n(260),function(e){var t=e.setShowNotification;return Object(O.jsxs)("div",{className:"notification",children:[Object(O.jsx)("div",{className:"notification__body",children:"Notification text..."}),Object(O.jsx)("button",{className:"notification__close-button",onClick:function(){t(!0)},children:"Close"})]})}),J=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1],i=window.matchMedia("(prefers-color-scheme: dark)"),a=window.localStorage.getItem("dark"),j=a?"true"===a:i.matches,d=Object(c.useState)(j),u=Object(l.a)(d,2),b=u[0],h=u[1],p=window.localStorage.getItem("page"),x=p||"wallet",f=Object(c.useState)(x),w=Object(l.a)(f,2),v=w[0],g=w[1],_=window.localStorage.getItem("wallets")||"{}",N=JSON.parse(_),k=Object(c.useState)(N),y=Object(l.a)(k,2),S=y[0],I=y[1];Object.keys(S).length||window.localStorage.setItem("wallets",JSON.stringify({btc:[]}));return Object(c.useEffect)((function(){window.localStorage.setItem("wallets",JSON.stringify(Object(o.a)({},S)))}),[S]),Object(O.jsx)("div",{className:"App ".concat(b?"":"light"),children:Object(O.jsx)("div",{className:"App-body",children:Object(O.jsx)(m,{children:Object(O.jsxs)(O.Fragment,{children:[n&&Object(O.jsx)(D,{setShowNotification:s}),Object(O.jsxs)("div",{className:"App-body__page-wrapper",children:["wallet"===v&&Object(O.jsx)(K,{wallets:S}),"transfer"===v&&Object(O.jsx)(P,{wallets:S}),"settings"===v&&Object(O.jsx)(C,{setBtcWallet:function(e){I(Object(o.a)(Object(o.a)({},S),{},{btc:[].concat(Object(r.a)(S.btc),Object(r.a)(e))}))},setActivePage:g})]}),Object(O.jsx)("header",{children:Object(O.jsx)(z,{setActivePage:g,setIsDark:h,isDark:b})})]})})})})};n(261);a.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(J,{})}),document.getElementById("root"))}},[[262,1,2]]]);
//# sourceMappingURL=main.336378aa.chunk.js.map