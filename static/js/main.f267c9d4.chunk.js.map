{"version":3,"sources":["components/ErrorBoundary/index.jsx","common/Coin.js","components/Button/index.jsx","pages/ChangeWallet/index.jsx","components/Header/index.jsx","pages/Wallets/WalletItem.jsx","pages/Wallets/index.jsx","components/Input/index.jsx","pages/Send/index.jsx","pages/App.jsx","index.jsx"],"names":["ErrorBoundary","props","state","error","this","setState","children","React","Component","Coin","BTC","params","createWallet","console","log","mnemonicPhrase","bip39","generateMnemonic","seed","mnemonicToSeedSync","restoreWallet","mnemonic","getBalance","Promise","res","rej","getWallet","network","node","bip32","fromSeed","derivePath","address","BtcLib","payments","p2pkh","pubkey","publicKey","toString","WIF","toWIF","name","ticker","precision","Button","isLoading","onClick","className","ChangeWallet","Header","isDark","setIsDark","setActivePage","activePage","page","window","localStorage","setItem","onChange","type","id","hidden","htmlFor","WalletItem","balance","shortAddress","partOfTheAddress","substr","length","strBalance","String","split","Number","parseFloat","toFixed","fixBalance","toUpperCase","Wallets","map","wallet","index","Input","placeholder","Send","useState","setIsLoading","submitTx","timeout","a","resolve","setTimeout","App","getItem","JSON","stringify","btc","prefersDarkScheme","matchMedia","localStorageDark","darkThemeIsActive","matches","localStoragePage","defaultPage","hasAnyWallet","setHasAnyWallet","useEffect","strWallets","btcWallets","parse","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f267c9d4.chunk.js","sourcesContent":["import React from 'react';\nimport './index.css';\n\nexport class ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error: null,\n    };\n  }\n\n  static getDerivedStateFromError(error) {\n    return { error };\n  }\n\n  componentDidCatch(error) {\n    this.setState({ error });\n  }\n\n  render() {\n    const { children } = this.props;\n    const { error } = this.state;\n\n    return <div>{error ? <h1>Error</h1> : children}</div>;\n  }\n}\n","import BtcLib from 'bitcoinjs-lib';\nimport bip39 from 'bip39';\nimport bip32 from 'bip32';\n\nclass BtcLikeCoin {\n  constructor(params) {\n    const { name, ticker, precision } = params;\n\n    this.name = name;\n    this.ticker = ticker;\n    this.precision = precision;\n\n    console.log('%c Create new Coin', 'color: green;');\n    console.log('name: ', this.name);\n    console.log('ticker: ', this.ticker);\n    console.log('precision: ', this.precision);\n  }\n\n  createWallet = () => {\n    console.log('create wallet');\n\n    const mnemonicPhrase = bip39.generateMnemonic();\n    const seed = bip39.mnemonicToSeedSync(mnemonicPhrase);\n    const newWallet = 'abc...';\n\n    console.log('seed: ', seed);\n    return newWallet;\n  };\n\n  restoreWallet = (params) => {\n    console.log('restore wallet');\n\n    const { mnemonic } = params;\n    console.log('mnemonic: ', mnemonic);\n    const address = 'abc...';\n\n    return address;\n  };\n\n  getBalance = () => {\n    console.log('get balance');\n\n    return new Promise((res, rej) => {\n      res(0);\n    });\n  };\n\n  getWallet = (params) => {\n    const { network, mnemonic } = params;\n    const seed = bip39.mnemonicToSeedSync(mnemonic);\n    const root = bip32.fromSeed(seed, network);\n    const node = root.derivePath(`m/44'/0'/0'/0/0`);\n\n    const account = BtcLib.payments.p2pkh({\n      pubkey: node.publicKey,\n      network: network,\n    });\n\n    return {\n      mnemonic,\n      address: account.address,\n      publicKey: node.publicKey.toString('Hex'),\n      WIF: node.toWIF(),\n      node,\n    };\n  };\n}\n\nconst Coin = {\n  BTC: new BtcLikeCoin({\n    name: 'Bitcoin',\n    ticker: 'BTC',\n    precision: 8,\n  }),\n};\n\nexport default Coin;\n","import './index.css';\n\nexport const Button = (props) => {\n  const { children, isLoading, onClick } = props;\n  const voidFunc = () => null;\n\n  return (\n    <button\n      className={`button ${isLoading ? 'disable' : ''}`}\n      onClick={isLoading ? voidFunc : onClick}\n    >\n      {isLoading ? <span className=\"button__loader\">Pending</span> : children}\n    </button>\n  );\n};\n","import './index.css';\nimport Coin from '../../common/Coin';\nimport { Button } from '../../components/Button';\n\nexport const ChangeWallet = () => {\n  const handleCreate = () => {\n    Coin.BTC.createWallet();\n  };\n\n  const handleRestore = () => {\n    Coin.BTC.restoreWallet({\n      mnemonic: '',\n    });\n  };\n\n  return (\n    <div className=\"change-wallet\">\n      <h2>Wallet actions</h2>\n      <Button onClick={handleCreate}>Create</Button>{' '}\n      <Button onClick={handleRestore}>Restore</Button>\n    </div>\n  );\n};\n","import './index.css';\n\nexport const Header = (props) => {\n  const { isDark, setIsDark, setActivePage } = props;\n\n  const activePage = (page) => {\n    window.localStorage.setItem('page', page);\n    setActivePage(page);\n  };\n\n  const changeTheme = () => {\n    window.localStorage.setItem('dark', `${!isDark}`);\n    setIsDark(!isDark);\n  };\n\n  return (\n    <header className=\"header\">\n      <nav className=\"header__nav\">\n        <ul className=\"header__nav-list\">\n          <li>\n            <button\n              className=\"header__page-tab\"\n              onClick={() => activePage('wallet')}\n            >\n              WALLET\n            </button>\n          </li>\n          <li>\n            <button\n              className=\"header__page-tab\"\n              onClick={() => activePage('send')}\n            >\n              SEND\n            </button>\n          </li>\n          <li>\n            <button\n              className=\"header__page-tab\"\n              onClick={() => activePage('changeWallet')}\n            >\n              CHANGE\n            </button>\n          </li>\n        </ul>\n      </nav>\n\n      <div className=\"header__them-wrapper\">\n        <input\n          onChange={changeTheme}\n          type=\"checkbox\"\n          id=\"header__theme-checkbox\"\n          hidden\n        />\n        <label\n          className=\"header__theme-fakecheckbox\"\n          htmlFor=\"header__theme-checkbox\"\n        ></label>\n      </div>\n    </header>\n  );\n};\n","export const WalletItem = (props) => {\n  const { type, address, balance, shortAddress } = props;\n\n  const partOfTheAddress =\n    address.substr(0, 4) + // 4 chars\n    '...' +\n    address.substr(address.length - 3, address.length); // 3 chars\n\n  const fixBalance = () => {\n    let strBalance = String(balance);\n    const hasDecimals = strBalance.split('.').length > 1;\n    const tooLong = hasDecimals && strBalance.split('.')[1].length > 6; // six just for display\n\n    if (tooLong) {\n      strBalance = Number.parseFloat(strBalance).toFixed(5).toString() + '...';\n    }\n\n    return strBalance;\n  };\n\n  return (\n    <div className=\"wallet__item\">\n      <p className=\"wallet__address-wrapper\">\n        <b>Address:</b>{' '}\n        <span className=\"wallet__address\">\n          {shortAddress ? partOfTheAddress : address}\n        </span>\n      </p>\n\n      <p className=\"wallet__balance-wrapper\">\n        <b>Balance:</b>{' '}\n        <span>\n          {fixBalance()} {type.toUpperCase()}\n        </span>\n      </p>\n    </div>\n  );\n};\n","import './index.css';\nimport { WalletItem } from './WalletItem';\n\nexport const Wallets = () => {\n  const wallets = [\n    { type: 'btc', address: 'mpb5DPTbz6mpb5DPTbz6sdf89912h', balance: 2.4561 },\n  ];\n\n  return (\n    <div className=\"wallets\">\n      <h2>Wallets</h2>\n\n      {wallets.map((wallet, index) => {\n        return (\n          <WalletItem\n            type={wallet.type}\n            address={wallet.address}\n            balance={wallet.balance}\n            shortAddress={true}\n            key={index}\n          />\n        );\n      })}\n    </div>\n  );\n};\n","import './index.css';\n\nexport const Input = (props) => {\n  const { type } = props;\n\n  if (type === 'address') {\n    return (\n      <input className=\"input\" type=\"text\" placeholder=\"Recipient address\" />\n    );\n  } else if (type === 'amount') {\n    return <input className=\"input\" type=\"number\" placeholder=\"Amount\" />;\n  }\n\n  return <input className=\"input\" type=\"text\" placeholder=\"...\" />;\n};\n","import { useState } from 'react';\nimport './index.css';\nimport { Input } from '../../components/Input';\nimport { Button } from '../../components/Button';\n\nexport const Send = () => {\n  const [isLoading, setIsLoading] = useState(false);\n\n  const submitTx = async () => {\n    setIsLoading(true);\n\n    function timeout() {\n      return new Promise((resolve) => setTimeout(resolve, 2000));\n    }\n\n    await timeout();\n    setIsLoading(false);\n  };\n\n  return (\n    <div className=\"send\">\n      <h2>Send</h2>\n\n      <div className=\"send__form-wrapper\">\n        <Input type=\"address\" />\n        <Input type=\"amount\" />\n        <Button isLoading={isLoading} onClick={submitTx}>\n          Submit\n        </Button>\n      </div>\n    </div>\n  );\n};\n","import { useState, useEffect } from 'react';\nimport './App.css';\nimport { ErrorBoundary } from '../components/ErrorBoundary';\nimport { ChangeWallet } from './ChangeWallet';\nimport { Header } from '../components/Header';\nimport { Wallets } from './Wallets';\nimport { Send } from './Send';\n\nexport const App = () => {\n  // Default settings =============================\n\n  const hasLocalSettings = window.localStorage.getItem('wallets');\n\n  if (!hasLocalSettings) {\n    window.localStorage.setItem(\n      'wallets',\n      JSON.stringify({\n        btc: [],\n      })\n    );\n  }\n\n  // Default theme ================================\n\n  const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');\n  const localStorageDark = window.localStorage.getItem('dark');\n  const darkThemeIsActive = localStorageDark\n    ? localStorageDark === 'true'\n    : prefersDarkScheme.matches;\n  const [isDark, setIsDark] = useState(darkThemeIsActive);\n\n  // Default page =================================\n\n  const localStoragePage = window.localStorage.getItem('page');\n  const defaultPage = localStoragePage ? localStoragePage : 'wallet';\n  const [activePage, setActivePage] = useState(defaultPage);\n\n  // Checking wallets =============================\n\n  const [hasAnyWallet, setHasAnyWallet] = useState(false);\n\n  useEffect(() => {\n    const strWallets = window.localStorage.getItem('wallets') || '{}';\n    const wallets = JSON.parse(strWallets);\n    const btcWallets = wallets.btc;\n\n    setHasAnyWallet(btcWallets.length ? true : false);\n  }, [setHasAnyWallet]);\n\n  return (\n    <div className={`App ${isDark ? '' : 'light'}`}>\n      <div className=\"App-body\">\n        <ErrorBoundary>\n          <>\n            <Header\n              setActivePage={setActivePage}\n              setIsDark={setIsDark}\n              isDark={isDark}\n            />\n\n            <div className=\"App-body__page-wrapper\">\n              {activePage === 'wallet' && <Wallets />}\n              {activePage === 'send' && <Send />}\n\n              {activePage === 'changeWallet' && <ChangeWallet />}\n              {hasAnyWallet && <ChangeWallet />}\n            </div>\n          </>\n        </ErrorBoundary>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './pages/App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}