(this["webpackJsonpcrypto-wallet"]=this["webpackJsonpcrypto-wallet"]||[]).push([[0],{128:function(e,t,n){},129:function(e,t,n){},136:function(e,t){},138:function(e,t){},149:function(e,t){},151:function(e,t){},164:function(e,t){},167:function(e,t){},242:function(e,t,n){},256:function(e,t,n){},257:function(e,t,n){},258:function(e,t,n){},259:function(e,t,n){},260:function(e,t,n){},261:function(e,t,n){},262:function(e,t,n){},263:function(e,t,n){},264:function(e,t,n){"use strict";n.r(t);var c=n(4),s=n.n(c),i=n(117),a=n.n(i),r=n(47),l=n(25),o=n(78),j=n(8);n(128);var d=n(49),b=n(118),u=n(123),O=n(122),h=(n(129),n(1)),m=function(e){Object(u.a)(n,e);var t=Object(O.a)(n);function n(e){var c;return Object(d.a)(this,n),(c=t.call(this,e)).state={error:null},c}return Object(b.a)(n,[{key:"componentDidCatch",value:function(e){this.setState({error:e})}},{key:"render",value:function(){var e=this.props.children,t=this.state.error;return Object(h.jsx)("div",{children:t?Object(h.jsx)("h1",{children:"Error"}):e})}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),n}(s.a.Component),p=n(38),x=n(53),f=n(24),w=n(119),v=n(120),_=n(54),g=(n(242),n(30)),N=n.n(g),k=n(51),y=n(52),S=n(50),C=Object.freeze({BTC:new function e(t){var n=this;Object(d.a)(this,e),this.createWallet=function(e){var t=e.network,c=y.generateMnemonic(),s=y.mnemonicToSeedSync(c),i=S.fromSeed(s,t).derivePath("m/44'/0'/0'/0/0"),a=p.payments.p2pkh({pubkey:i.publicKey,network:t});return{balance:0,ticker:n.ticker,precision:n.precision,mnemonic:c,pubKey:i.publicKey,privKey:i.privateKey,address:a.address}},this.getBalance=function(){return new Promise((function(e,t){e(0)}))},this.restoreWallet=function(e){var t=e.network,c=e.mnemonic,s=y.mnemonicToSeedSync(c),i=S.fromSeed(s,t),a=i.derivePath("m/44'/0'/0'/0/0"),r=p.payments.p2pkh({pubkey:a.publicKey,network:t});return console.log("getWallet"),console.log("seed: ",s),console.log("root: ",i),console.log("node: ",a),console.log("account: ",r),{balance:0,ticker:n.ticker,precision:n.precision,mnemonic:c,pubKey:a.publicKey,privKey:a.privateKey,address:r.address}},this.send=Object(k.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));var c=t.name,s=t.ticker,i=t.precision;this.name=c,this.ticker=s,this.precision=i}({name:"Bitcoin",ticker:"BTC",precision:8})}),z=(n(256),function(e){var t=e.children,n=e.isLoading,c=e.onClick,s=e.type;return Object(h.jsx)("button",{className:"button ".concat(n?"disable":""," ").concat(s||""),onClick:n?function(){return null}:c,children:n?Object(h.jsx)("span",{className:"button__loader",children:"Pending"}):t})}),I=(n(257),function(e){var t=e.type;return"address"===t?Object(h.jsx)("input",{className:"input",type:"text",placeholder:"Recipient address",onChange:function(e){}}):"amount"===t?Object(h.jsx)("input",{className:"input",type:"number",placeholder:"Amount"}):Object(h.jsx)("input",{className:"input",type:"text",placeholder:"..."})}),A=function(e){var t=e.setActivePage,n=e.setWallets,s=e.setWallet,i=Object(c.useState)(!1),a=Object(j.a)(i,2),r=a[0],l=a[1],o=Object(c.useState)(!1),d=Object(j.a)(o,2),b=d[0],u=d[1],O=Object(c.useState)(void 0),m=Object(j.a)(O,2),g=m[0],N=m[1],k=Object(c.useState)(""),y=Object(j.a)(k,2),S=y[0],A=y[1],T=function(e){N(e),A(e.mnemonic),u(!0)},K=Object(c.useState)(!1),P=Object(j.a)(K,2),E=P[0],W=P[1];return Object(h.jsxs)("div",{className:"settings",children:[Object(h.jsx)("h2",{className:"page-title",children:"SETTINGS"}),Object(h.jsxs)("div",{className:"settings__buttons-wrapper",children:[Object(h.jsxs)(z,{onClick:function(){var e=C.BTC.createWallet({network:p.networks.testnet});T(e)},children:[Object(h.jsx)("span",{className:"settings__icon",children:Object(h.jsx)(w.a,{size:"100%",color:"inherit"})}),"Create"]})," ",Object(h.jsxs)(z,{onClick:function(){l(!r)},children:[Object(h.jsx)("span",{className:"settings__icon",children:Object(h.jsx)(x.a,{size:"100%",color:"inherit"})}),"Restore"]})," ",Object(h.jsxs)(z,{onClick:function(){return W(!0)},children:[Object(h.jsx)("span",{className:"settings__icon",children:Object(h.jsx)(f.c,{size:"100%",color:"inherit"})}),"Logout"]})]}),b&&Object(h.jsxs)("section",{className:"settings__section",children:[Object(h.jsx)("p",{className:"warning",children:"Please save this mnemonic phrase in the safe place. You will be able to restore your wallet only with this phrase"}),Object(h.jsx)("p",{className:"new-mnemonic-phrase",children:S}),Object(h.jsxs)("div",{children:[Object(h.jsxs)(z,{type:"small",onClick:function(){g&&(s({name:g.ticker,wallet:g}),window.localStorage.setItem("page","wallet"),t("wallet"))},children:[Object(h.jsx)("span",{className:"settings__icon",children:Object(h.jsx)(v.a,{size:"100%",color:"inherit"})}),"I saved"]})," ",Object(h.jsxs)(z,{type:"small",onClick:function(){return u(!1)},children:[Object(h.jsx)("span",{className:"settings__icon",children:Object(h.jsx)(_.a,{size:"100%",color:"inherit"})}),"Cancel"]})]})]}),r&&Object(h.jsxs)("section",{className:"settings__section",children:[Object(h.jsx)(I,{type:"text"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)(z,{type:"small",onClick:function(e){},children:[Object(h.jsx)("span",{className:"settings__icon",children:Object(h.jsx)(x.a,{size:"100%",color:"inherit"})}),"Restore"]})," ",Object(h.jsxs)(z,{type:"small",onClick:function(){return l(!1)},children:[Object(h.jsx)("span",{className:"settings__icon",children:Object(h.jsx)(_.a,{size:"100%",color:"inherit"})}),"Close"]})]})]}),E&&Object(h.jsxs)("section",{className:"settings__section",children:[Object(h.jsx)("p",{className:"warning",children:"It cleans all data from your browser. Are you sure ?"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)(z,{type:"small",onClick:function(){n({}),window.localStorage.clear()},children:[Object(h.jsx)("span",{className:"settings__icon",children:Object(h.jsx)(x.a,{size:"100%",color:"inherit"})}),"Confirm"]})," ",Object(h.jsxs)(z,{type:"small",onClick:function(){return W(!1)},children:[Object(h.jsx)("span",{className:"settings__icon",children:Object(h.jsx)(_.a,{size:"100%",color:"inherit"})}),"Cancel"]})]})]})]})},T=(n(258),n(31)),K=function(e){var t=e.isDark,n=e.setIsDark,c=e.setActivePage,s=function(e){window.localStorage.setItem("page",e),c(e)};return Object(h.jsxs)("nav",{className:"navigation",children:[Object(h.jsxs)("ul",{className:"navigation__list",children:[Object(h.jsx)("li",{children:Object(h.jsx)("button",{className:"navigation__button",onClick:function(){return s("wallet")},children:Object(h.jsx)(T.b,{size:"100%",color:"inherit"})})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{className:"navigation__button",onClick:function(){return s("transfer")},children:Object(h.jsx)(T.c,{size:"100%",color:"inherit"})})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{className:"navigation__button",onClick:function(){return s("settings")},children:Object(h.jsx)(T.d,{size:"100%",color:"inherit"})})})]}),Object(h.jsx)("button",{className:"navigation__theme-button",onClick:function(){window.localStorage.setItem("dark","".concat(!t)),n(!t)},children:t?Object(h.jsx)(f.b,{size:"100%",color:"inherit"}):Object(h.jsx)(f.d,{size:"100%",color:"inherit"})})]})},P=(n(259),function(e){var t=e.walletIcon,n=e.wallet,s=e.shortAddress,i=void 0!==s&&s,a=Object(c.useState)(""),r=Object(j.a)(a,2),l=r[0],o=r[1],d=Object(c.useState)(!1),b=Object(j.a)(d,2),u=b[0],O=b[1],m=Object(c.useRef)(null),p=n.address.substr(0,4)+"..."+n.address.substr(n.address.length-3,n.address.length);return Object(h.jsxs)("div",{className:"wallet-item",children:[Object(h.jsxs)("div",{className:"wallet-item__header",children:[Object(h.jsx)("span",{className:"wallet-item__icon",children:t}),Object(h.jsxs)("span",{className:"wallet-item__address",children:[i?p:n.address,Object(h.jsx)("form",{children:Object(h.jsx)("textarea",{ref:m,defaultValue:n.address})}),document.queryCommandSupported("copy")&&Object(h.jsxs)("button",{className:"wallet-item__copy-button",onClick:function(e){m.current.select(),document.execCommand("copy"),e.target.focus(),o(!0),setTimeout((function(){return o(!1)}),600)},children:[l&&Object(h.jsx)("span",{className:"wallet-item__copy-tip",children:"Copied!"}),Object(h.jsx)(T.a,{size:"100%",color:"var(--color)"})]})]})]}),Object(h.jsxs)("div",{className:"wallet-item__middle",children:[Object(h.jsx)("span",{className:"wallet-item__balance-wrapper",children:Object(h.jsxs)("span",{className:"wallet-item__crypto",children:[function(){var e=String(n.balance);return e.split(".").length>1&&e.split(".")[1].length>6&&(e=Number.parseFloat(e).toFixed(5).toString()+"..."),e}()," BTC"]})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"wallet-item__extra-info",children:"Extra info"}),Object(h.jsx)("input",{type:"checkbox",name:"extra info",id:"wallet-item__extra-info",onChange:function(){O(!u)}})]})]}),u&&Object(h.jsx)("div",{className:"wallet-item__footer",children:"Keys"})]})}),E=n(121),W=function(e){var t=e.wallets;return Object(h.jsxs)("div",{className:"wallets",children:[Object(h.jsx)("h2",{className:"page-title",children:"WALLETS"}),Object.keys(t).length?Object(h.jsx)(h.Fragment,{children:Object.keys(t).map((function(e,n){return t[e].length?Object(h.jsx)("div",{children:t[e].map((function(e,t){return Object(h.jsx)(P,{walletIcon:Object(h.jsx)(E.a,{size:"100%",color:"inherit"}),wallet:e},t)}))},n):null}))}):Object(h.jsx)("p",{className:"wallets__not-wallet",children:"No wallets"})]})},D=(n(260),n(261),function(e){var t=e.list,n=Object(c.useState)(!1),s=Object(j.a)(n,2),i=s[0],a=s[1];return Object(h.jsxs)("div",{className:"dropdown ".concat(i?"open":""),onClick:function(){1!==t.length&&a(!i)},children:[1===t.length?Object(h.jsx)("div",{className:"dropdown__list",children:Object(h.jsx)("div",{children:t[0]})}):Object(h.jsx)("div",{className:"dropdown__list many",children:t.map((function(e,t){return Object(h.jsx)("div",{className:"dropdown__item ".concat(t?"hidden":""),children:e},t)}))}),!i&&Object(h.jsx)(f.a,{size:"1.1rem",color:"var(--color)"})]})}),B=function(e){var t=e.ticker,n=e.address;return Object(h.jsxs)("div",{className:"dropdown-item",children:[Object(h.jsx)("span",{className:"dropdown-item__ticker",children:t}),Object(h.jsx)("span",{className:"dropdown-item__address",children:n})]})},F=function(e){var t=e.wallets,n=Object(c.useState)(!1),s=Object(j.a)(n,2),i=s[0],a=s[1],r=Object.keys(t).reduce((function(e,n){return[].concat(Object(l.a)(e),Object(l.a)(t[n]))}),[]).map((function(e){return Object(h.jsx)(B,{ticker:e.ticker,address:e.address})})),o=function(){var e=Object(k.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){return new Promise((function(e){return setTimeout(e,2e3)}))},a(!0),e.next=4,t();case 4:a(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"transfer",children:[Object(h.jsx)("h2",{className:"page-title",children:"TRANSFER"}),Object(h.jsx)(D,{list:r}),Object(h.jsxs)("div",{className:"transfer__form-wrapper",children:[Object(h.jsxs)("div",{className:"transfer__input-wrapper",children:[Object(h.jsx)(I,{type:"address"}),Object(h.jsx)(I,{type:"amount"})]}),Object(h.jsx)(z,{isLoading:i,onClick:o,children:"SEND"})]})]})},L=(n(262),function(e){var t=e.setShowNotification;return Object(h.jsxs)("div",{className:"notification",children:[Object(h.jsx)("div",{className:"notification__body",children:"Notification text..."}),Object(h.jsx)("button",{className:"notification__close-button",onClick:function(){t(!0)},children:"Close"})]})}),R=function(){var e=Object(c.useState)(!1),t=Object(j.a)(e,2),n=t[0],s=t[1],i=window.matchMedia("(prefers-color-scheme: dark)"),a=window.localStorage.getItem("dark"),d=a?"true"===a:i.matches,b=Object(c.useState)(d),u=Object(j.a)(b,2),O=u[0],p=u[1],x=window.localStorage.getItem("page"),f=x||"wallet",w=Object(c.useState)(f),v=Object(j.a)(w,2),_=v[0],g=v[1],N=window.localStorage.getItem("wallets")||"{}",k=JSON.parse(N),y=Object(c.useState)(k),S=Object(j.a)(y,2),C=S[0],z=S[1];return"undefined"!==typeof window&&window.addEventListener("beforeunload",(function(e){e.preventDefault(),delete e.returnValue,function(e){var t=e.name,n=e.data;window.localStorage.setItem(t,n)}({name:"wallets",data:JSON.stringify(C)})})),Object(h.jsx)("div",{className:"App ".concat(O?"":"light"),children:Object(h.jsx)("div",{className:"App-body",children:Object(h.jsx)(m,{children:Object(h.jsxs)(h.Fragment,{children:[n&&Object(h.jsx)(L,{setShowNotification:s}),Object(h.jsxs)("div",{className:"App-body__page-wrapper",children:["wallet"===_&&Object(h.jsx)(W,{wallets:C}),"transfer"===_&&Object(h.jsx)(F,{wallets:C}),"settings"===_&&Object(h.jsx)(A,{setWallets:z,setWallet:function(e){var t=e.name,n=e.wallet,c=C[t]||[];z(Object(o.a)(Object(o.a)({},C),{},Object(r.a)({},t,[].concat(Object(l.a)(c),[n]))))},setActivePage:g})]}),Object(h.jsx)("header",{children:Object(h.jsx)(K,{setActivePage:g,setIsDark:p,isDark:O})})]})})})})};n(263);a.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(R,{})}),document.getElementById("root"))}},[[264,1,2]]]);
//# sourceMappingURL=main.bac6ed58.chunk.js.map