(this["webpackJsonpcrypto-wallet"]=this["webpackJsonpcrypto-wallet"]||[]).push([[0],{126:function(e,t,n){},127:function(e,t,n){},134:function(e,t){},136:function(e,t){},147:function(e,t){},149:function(e,t){},162:function(e,t){},165:function(e,t){},240:function(e,t,n){},254:function(e,t,n){},255:function(e,t,n){},256:function(e,t,n){},257:function(e,t,n){},258:function(e,t,n){},259:function(e,t,n){},260:function(e,t,n){},261:function(e,t,n){},262:function(e,t,n){"use strict";n.r(t);var c=n(4),s=n.n(c),a=n(115),i=n.n(a),r=n(47),o=n(25),l=n(76),j=n(8);n(126);var d=n(49),u=n(116),b=n(121),m=n(120),h=(n(127),n(1)),O=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var c;return Object(d.a)(this,n),(c=t.call(this,e)).state={error:null},c}return Object(u.a)(n,[{key:"componentDidCatch",value:function(e){this.setState({error:e})}},{key:"render",value:function(){var e=this.props.children,t=this.state.error;return Object(h.jsx)("div",{children:t?Object(h.jsx)("h1",{children:"Error"}):e})}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),n}(s.a.Component),p=n(38),x=n(118),f=n(24),w=n(117),v=(n(240),n(30)),g=n.n(v),_=n(51),N=n(52),k=n(50),y=Object.freeze({BTC:new function e(t){var n=this;Object(d.a)(this,e),this.createWallet=function(e){var t=e.network,c=N.generateMnemonic(),s=N.mnemonicToSeedSync(c),a=k.fromSeed(s,t).derivePath("m/44'/0'/0'/0/0"),i=p.payments.p2pkh({pubkey:a.publicKey,network:t});return{balance:0,ticker:n.ticker,precision:n.precision,mnemonic:c,pubKey:a.publicKey,privKey:a.privateKey,address:i.address}},this.getBalance=function(){return new Promise((function(e,t){e(0)}))},this.restoreWallet=function(e){var t=e.network,c=e.mnemonic,s=N.mnemonicToSeedSync(c),a=k.fromSeed(s,t),i=a.derivePath("m/44'/0'/0'/0/0"),r=p.payments.p2pkh({pubkey:i.publicKey,network:t});return console.log("getWallet"),console.log("seed: ",s),console.log("root: ",a),console.log("node: ",i),console.log("account: ",r),{balance:0,ticker:n.ticker,precision:n.precision,mnemonic:c,pubKey:i.publicKey,privKey:i.privateKey,address:r.address}},this.send=Object(_.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));var c=t.name,s=t.ticker,a=t.precision;this.name=c,this.ticker=s,this.precision=a}({name:"Bitcoin",ticker:"BTC",precision:8})}),S=(n(254),function(e){var t=e.children,n=e.isLoading,c=e.onClick;return Object(h.jsx)("button",{className:"button ".concat(n?"disable":""),onClick:n?function(){return null}:c,children:n?Object(h.jsx)("span",{className:"button__loader",children:"Pending"}):t})}),C=(n(255),function(e){var t=e.type;return"address"===t?Object(h.jsx)("input",{className:"input",type:"text",placeholder:"Recipient address",onChange:function(e){}}):"amount"===t?Object(h.jsx)("input",{className:"input",type:"number",placeholder:"Amount"}):Object(h.jsx)("input",{className:"input",type:"text",placeholder:"..."})}),I=function(e){var t=e.setActivePage,n=e.setWallets,s=e.setWallet,a=Object(c.useState)(!1),i=Object(j.a)(a,2),r=i[0],o=i[1],l=Object(c.useState)(!1),d=Object(j.a)(l,2),u=d[0],b=d[1],m=Object(c.useState)(void 0),O=Object(j.a)(m,2),v=O[0],g=O[1],_=Object(c.useState)(""),N=Object(j.a)(_,2),k=N[0],I=N[1],z=function(e){g(e),I(e.mnemonic),b(!0)};return Object(h.jsxs)("div",{className:"settings",children:[Object(h.jsx)("h2",{className:"page-title",children:"SETTINGS"}),Object(h.jsxs)("div",{className:"settings__buttons-wrapper",children:[Object(h.jsxs)(S,{onClick:function(){var e=y.BTC.createWallet({network:p.networks.testnet});z(e)},children:[Object(h.jsx)("span",{className:"settings__icon",children:Object(h.jsx)(w.a,{size:"100%",color:"inherit"})}),"Create"]})," ",Object(h.jsxs)(S,{onClick:function(){o(!r)},children:[Object(h.jsx)("span",{className:"settings__icon",children:Object(h.jsx)(x.a,{size:"100%",color:"inherit"})}),"Restore"]})," ",Object(h.jsxs)(S,{onClick:function(){n({}),window.localStorage.clear()},children:[Object(h.jsx)("span",{className:"settings__icon",children:Object(h.jsx)(f.c,{size:"100%",color:"inherit"})}),"Logout"]})]}),u&&Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{className:"warning",children:"Please save this mnemonic phrase in the safe place. You will be able to restore your wallet only with this phrase"}),Object(h.jsx)("textarea",{defaultValue:k,className:"mnemonic-phrase-field"}),Object(h.jsxs)("div",{className:"settings__mnemonic-buttons",children:[Object(h.jsx)("button",{onClick:function(){v&&(s({name:v.ticker,wallet:v}),window.localStorage.setItem("page","wallet"),t("wallet"))},children:"I saved"}),Object(h.jsx)("button",{onClick:function(){return b(!1)},children:"Cancel"})]})]}),r&&Object(h.jsxs)("div",{className:"settings__restore-block",children:[Object(h.jsx)(C,{type:"text"}),Object(h.jsxs)("div",{className:"settings__restore-buttons",children:[Object(h.jsx)("button",{onClick:function(e){},children:"Restore"}),Object(h.jsx)("button",{onClick:function(){return o(!1)},children:"Close"})]})]})]})},z=(n(256),n(31)),T=function(e){var t=e.isDark,n=e.setIsDark,c=e.setActivePage,s=function(e){window.localStorage.setItem("page",e),c(e)};return Object(h.jsxs)("nav",{className:"navigation",children:[Object(h.jsxs)("ul",{className:"navigation__list",children:[Object(h.jsx)("li",{children:Object(h.jsx)("button",{className:"navigation__button",onClick:function(){return s("wallet")},children:Object(h.jsx)(z.b,{size:"100%",color:"inherit"})})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{className:"navigation__button",onClick:function(){return s("transfer")},children:Object(h.jsx)(z.c,{size:"100%",color:"inherit"})})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{className:"navigation__button",onClick:function(){return s("settings")},children:Object(h.jsx)(z.d,{size:"100%",color:"inherit"})})})]}),Object(h.jsx)("button",{className:"navigation__theme-button",onClick:function(){window.localStorage.setItem("dark","".concat(!t)),n(!t)},children:t?Object(h.jsx)(f.b,{size:"100%",color:"inherit"}):Object(h.jsx)(f.d,{size:"100%",color:"inherit"})})]})},A=(n(257),function(e){var t=e.walletIcon,n=e.wallet,s=e.shortAddress,a=void 0!==s&&s,i=Object(c.useState)(""),r=Object(j.a)(i,2),o=r[0],l=r[1],d=Object(c.useState)(!1),u=Object(j.a)(d,2),b=u[0],m=u[1],O=Object(c.useRef)(null),p=n.address.substr(0,4)+"..."+n.address.substr(n.address.length-3,n.address.length);return Object(h.jsxs)("div",{className:"wallet-item",children:[Object(h.jsxs)("div",{className:"wallet-item__header",children:[Object(h.jsx)("span",{className:"wallet-item__icon",children:t}),Object(h.jsxs)("span",{className:"wallet-item__address",children:[a?p:n.address,Object(h.jsx)("form",{children:Object(h.jsx)("textarea",{ref:O,defaultValue:n.address})}),document.queryCommandSupported("copy")&&Object(h.jsxs)("button",{className:"wallet-item__copy-button",onClick:function(e){O.current.select(),document.execCommand("copy"),e.target.focus(),l(!0),setTimeout((function(){return l(!1)}),600)},children:[o&&Object(h.jsx)("span",{className:"wallet-item__copy-tip",children:"Copied!"}),Object(h.jsx)(z.a,{size:"100%",color:"var(--color)"})]})]})]}),Object(h.jsxs)("div",{className:"wallet-item__middle",children:[Object(h.jsx)("span",{className:"wallet-item__balance-wrapper",children:Object(h.jsxs)("span",{className:"wallet-item__crypto",children:[function(){var e=String(n.balance);return e.split(".").length>1&&e.split(".")[1].length>6&&(e=Number.parseFloat(e).toFixed(5).toString()+"..."),e}()," BTC"]})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"wallet-item__extra-info",children:"Extra info"}),Object(h.jsx)("input",{type:"checkbox",name:"extra info",id:"wallet-item__extra-info",onChange:function(){m(!b)}})]})]}),b&&Object(h.jsx)("div",{className:"wallet-item__footer",children:"Keys"})]})}),K=n(119),P=function(e){var t=e.wallets;return Object(h.jsxs)("div",{className:"wallets",children:[Object(h.jsx)("h2",{className:"page-title",children:"WALLETS"}),Object.keys(t).length?Object(h.jsx)(h.Fragment,{children:Object.keys(t).map((function(e,n){return t[e].length?Object(h.jsx)("div",{children:t[e].map((function(e,t){return Object(h.jsx)(A,{walletIcon:Object(h.jsx)(K.a,{size:"100%",color:"inherit"}),wallet:e},t)}))},n):null}))}):Object(h.jsx)("p",{className:"wallets__not-wallet",children:"No wallets"})]})},E=(n(258),n(259),function(e){var t=e.list,n=Object(c.useState)(!1),s=Object(j.a)(n,2),a=s[0],i=s[1];return Object(h.jsxs)("div",{className:"dropdown ".concat(a?"open":""),onClick:function(){1!==t.length&&i(!a)},children:[1===t.length?Object(h.jsx)("div",{className:"dropdown__list",children:Object(h.jsx)("div",{children:t[0]})}):Object(h.jsx)("div",{className:"dropdown__list many",children:t.map((function(e,t){return Object(h.jsx)("div",{className:"dropdown__item ".concat(t?"hidden":""),children:e},t)}))}),!a&&Object(h.jsx)(f.a,{size:"1.1rem",color:"var(--color)"})]})}),W=function(e){var t=e.ticker,n=e.address;return Object(h.jsxs)("div",{className:"dropdown-item",children:[Object(h.jsx)("span",{className:"dropdown-item__ticker",children:t}),Object(h.jsx)("span",{className:"dropdown-item__address",children:n})]})},D=function(e){var t=e.wallets,n=Object(c.useState)(!1),s=Object(j.a)(n,2),a=s[0],i=s[1],r=Object.keys(t).reduce((function(e,n){return[].concat(Object(o.a)(e),Object(o.a)(t[n]))}),[]).map((function(e){return Object(h.jsx)(W,{ticker:e.ticker,address:e.address})})),l=function(){var e=Object(_.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){return new Promise((function(e){return setTimeout(e,2e3)}))},i(!0),e.next=4,t();case 4:i(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"transfer",children:[Object(h.jsx)("h2",{className:"page-title",children:"TRANSFER"}),Object(h.jsx)(E,{list:r}),Object(h.jsxs)("div",{className:"transfer__form-wrapper",children:[Object(h.jsxs)("div",{className:"transfer__input-wrapper",children:[Object(h.jsx)(C,{type:"address"}),Object(h.jsx)(C,{type:"amount"})]}),Object(h.jsx)(S,{isLoading:a,onClick:l,children:"SEND"})]})]})},B=(n(260),function(e){var t=e.setShowNotification;return Object(h.jsxs)("div",{className:"notification",children:[Object(h.jsx)("div",{className:"notification__body",children:"Notification text..."}),Object(h.jsx)("button",{className:"notification__close-button",onClick:function(){t(!0)},children:"Close"})]})}),F=function(){var e=Object(c.useState)(!1),t=Object(j.a)(e,2),n=t[0],s=t[1],a=window.matchMedia("(prefers-color-scheme: dark)"),i=window.localStorage.getItem("dark"),d=i?"true"===i:a.matches,u=Object(c.useState)(d),b=Object(j.a)(u,2),m=b[0],p=b[1],x=window.localStorage.getItem("page"),f=x||"wallet",w=Object(c.useState)(f),v=Object(j.a)(w,2),g=v[0],_=v[1],N=window.localStorage.getItem("wallets")||"{}",k=JSON.parse(N),y=Object(c.useState)(k),S=Object(j.a)(y,2),C=S[0],z=S[1];return"undefined"!==typeof window&&window.addEventListener("beforeunload",(function(e){e.preventDefault(),delete e.returnValue,function(e){var t=e.name,n=e.data;window.localStorage.setItem(t,n)}({name:"wallets",data:JSON.stringify(C)})})),Object(h.jsx)("div",{className:"App ".concat(m?"":"light"),children:Object(h.jsx)("div",{className:"App-body",children:Object(h.jsx)(O,{children:Object(h.jsxs)(h.Fragment,{children:[n&&Object(h.jsx)(B,{setShowNotification:s}),Object(h.jsxs)("div",{className:"App-body__page-wrapper",children:["wallet"===g&&Object(h.jsx)(P,{wallets:C}),"transfer"===g&&Object(h.jsx)(D,{wallets:C}),"settings"===g&&Object(h.jsx)(I,{setWallets:z,setWallet:function(e){var t=e.name,n=e.wallet,c=C[t]||[];z(Object(l.a)(Object(l.a)({},C),{},Object(r.a)({},t,[].concat(Object(o.a)(c),[n]))))},setActivePage:_})]}),Object(h.jsx)("header",{children:Object(h.jsx)(T,{setActivePage:_,setIsDark:p,isDark:m})})]})})})})};n(261);i.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(F,{})}),document.getElementById("root"))}},[[262,1,2]]]);
//# sourceMappingURL=main.8360536f.chunk.js.map